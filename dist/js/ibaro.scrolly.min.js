"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),Scrolly=function(){function t(e){var o=this;_classCallCheck(this,t);var n=void 0;"object"===(void 0===e?"undefined":_typeof(e))?(n=e.tag,this.scrollAfter=e.scrollAfter||null):n=e,document.querySelectorAll(n).forEach(function(t){o.init(t)})}return _createClass(t,[{key:"init",value:function(t){var e=this;t.addEventListener("click",function(o){o.preventDefault();for(var n=t.hash.replace("#",""),l=window[n],r=l.offsetTop,s=l.parentElement,c=0;c<document.all.length&&(null!==s&&"static"!==window.getComputedStyle(l.parentNode).position);c++)r+=s.offsetTop,s=s.parentElement;sessionStorage.setItem("scrolly",'{\n\t\t\t\t  "target": "'+n+'"\n\t\t\t\t, "side": '+(window.scrollY>r)+'\n\t\t\t\t, "to": '+r+'\n\t\t\t\t, "speed": '+Math.abs(window.scrollY-r)/90+"\n\t\t\t}"),e.scrollAfter&&(t.dataset.scrollyClick=""),e.scroll()})}},{key:"scroll",value:function(){var t=this,e=JSON.parse(sessionStorage.getItem("scrolly")),o=window.scrollY;(e.side?o-e.speed>e.to:o+e.speed<e.to)?(window.scroll(0,e.side?o-e.speed:o+e.speed),setTimeout(function(){t.scroll()},0)):(window.scroll(0,e.to),setTimeout(function(){t.scrollAfter&&t.after()},0))}},{key:"after",value:function(){var t=document.querySelector("[data-scrolly-click]"),e=JSON.parse(sessionStorage.getItem("scrolly")).target;t.removeAttribute("data-scrolly-click"),this.scrollAfter(t,window[e])}}]),t}();